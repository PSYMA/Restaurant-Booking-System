
<div class="bg-white p-0">
    <%= render "shared/navbar" %>   
    <div>
        <div class="container py-5"  >
            <%= turbo_frame_tag "productss" do %>
                <div class="text-center">
                    <h5 class="section-title ff-secondary text-center text-primary fw-normal">Food Products</h5>
                    <h1 class=" ">Restaurant Products</h1>
                </div> 
                
                <div class="panel panel-default panel-table" > 
                    <% if flash[:notice] %>
                        <div class="alert alert-info text-center" role="alert">
                            <%= flash[:notice] %>
                        </div>
                    <% end %>
                    
                    <div class="panel-heading"> 
                        <div class="row text-center mb-1 mt-1">   
                            <div class="col">
                                <%= search_form_for @q, url: products_path do |form|%> 
                                    <div class="text-center mt-1">
                                        <%= form.search_field :name_cont%>
                                        <%= form.submit %>
                                    </div>
                                <% end %>
                            </div>
                            <div class="col"> 
                                <%= link_to "Create New", new_product_path, class: "btn btn-success pull-right", style: "border-radius: 0%;" %> 
                            </div>
                        </div>
                    </div>

                    <div class="panel-table">
                        <table class="table table-striped table-bordered">
                            <thead>
                                <tr class="text-center">
                                    <th class="hidden-xs">ID</th>
                                    <th>NAME</th>
                                    <th>PRICE</th>
                                    <th>COOKING TIME</th>
                                    <th>AVAILABLE</th>
                                    <th><em class="fa fa-cog"></em></th>
                                </tr> 
                            </thead>
                            <tbody>
                                <% @products.each do |product|%> 
                                    <tr class="text-center"> 
                                        <th>
                                            <%= product.id() %>
                                        </th>
                                        <td>
                                            <%= product.name() %>
                                        </td>
                                        <td>
                                            $<%= product.price() %>
                                        </td>
                                        <td>
                                            <%= product.cooking_time() %> minute(s)
                                        </td>
                                        <td>
                                            <% if product.is_available() == 1 %>
                                                <p style="color: green">AVAILABLE</p>
                                            <% else %>
                                                <p style="color: red">N/A</p>
                                            <% end%>
                                        </td>
                                        <td class="text-center"> 
                                            <div class="btn-group">  
                                                <%= link_to "", edit_product_path(product), class: "btn btn-secondary fa fa-pencil btn-lg mr-1", style: "border-radius: 0%; height: 2.5em" %> 
                                                <%= button_to "", product, class: "btn btn-danger fa fa-trash btn-lg", style: "border-radius: 0%; margin-left: 0.5em; height: 2.5em", method: :delete %> 
                                            </div>
                                        </td>
                                    </tr>
                                <% end %> 
                            </tbody>
                        </table> 
                    </div>   
                    
                </div>  

                <div class="digg_pagination pull-right"> 
                    <div class="page_info">
                        <%= page_entries_info @products %>
                    </div>
                    <div class="pagination visible-xs pull-right">
                        <%= will_paginate @products %> 
                    </div> 
                </div>  
                <%= javascript_include_tag "js/products.js", "data-turbo-track": "reload", defer: true %> 
                <% end %>
        </div> 
    </div>
    <%= render "shared/footer" %>  
</div>
